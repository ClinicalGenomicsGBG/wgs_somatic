Bootstrap: docker
From: debian:12.10-slim
Stage: build
  
%post
    # Install python3 and other requirements for git and pip3
    apt-get update
    apt-get install -y python3 python3-pip wget vim build-essential

    # Get sentieon
    wget https://s3.amazonaws.com/sentieon-release/software/sentieon-genomics-202503.tar.gz

    # Unzip using tar
    tar -zxvf sentieon-genomics-202503.tar.gz

%environment
    # below will be set with bind during execute
    unset http_proxy
    unset https_proxy
    SENTIEON_LICENSE=medair1.medair.lcl:8990
    LD_LIBRARY_PATH=/sentieon-genomics-202503/lib
    export SENTIEON_LICENSE LD_LIBRARY_PATH


%runscript
    exec /bin/bash "$@"
